var CodeMirror=function(){function e(r,o){function s(e){return e>=0&&e<Sn.length}function c(e){Tn=null;var t={line:0,ch:0};P(t,{line:Sn.length-1,ch:Sn[Sn.length-1].text.length},H(e),t,t),Tn=new a,An=!0}function g(){for(var e=[],t=0,n=Sn.length;n>t;++t)e.push(Sn[t].text);return e.join("\n")}function v(e){function t(){rt(),An=!0,l(),c()}function n(e){var t=Rt(e,!0);if(t&&!x(t,s)){wn||q(),s=t,ht(o,t),An=!1;var r=st();(t.line>=r.to||t.line<r.from)&&(a=setTimeout(Zt(function(){n(e)}),150))}}for(var r=d(e);r!=an;r=r.parentNode)if(r.parentNode==cn&&r!=dn)return;var i=Nn;Nn=null;for(var r=d(e);r!=an;r=r.parentNode)if(r.parentNode==pn)return tn.onGutterClick&&tn.onGutterClick(Xn,T(pn.childNodes,r)+Hn,e),u(e);var o=Rt(e);switch(h(e)){case 3:return void(L&&!I&&Pt(e));case 2:return void(o&&mt(o.line,o.ch,!0))}if(!o)return void(d(e)==un&&u(e));if(wn||q(),u(e),i&&+new Date-i<400)return kt(o.line);mt(o.line,o.ch,!0);var a,s=o,l=p(on,"mousemove",Zt(function(e){clearTimeout(a),u(e),n(e)}),!0),c=p(on,"mouseup",Zt(function(e){clearTimeout(a);var n=Rt(e);n&&ht(o,n),u(e),t()}),!0)}function C(e){var t=Rt(e);t&&(wt(t),u(e),Nn=+new Date)}function M(e){function t(e,t){var r=new FileReader;r.onload=function(){o[t]=r.result,++a==i&&K(o.join(""),vt(n),vt(n))},r.readAsText(e)}e.preventDefault();var n=Rt(e,!0),r=e.dataTransfer.files;if(n&&!tn.readOnly)if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=0;i>s;++s)t(r[s],s);else try{var o=e.dataTransfer.getData("Text");o&&K(o,n,n)}catch(e){}}function E(e){wn||q();var t=e.keyCode;j&&27==t&&(e.returnValue=!1);var n=(I?e.metaKey:e.ctrlKey)&&!e.altKey,r=e.ctrlKey||e.altKey||e.metaKey;if(Mn=16==t||e.shiftKey?Mn||(qn.inverted?qn.to:qn.from):null,!tn.onKeyEvent||!tn.onKeyEvent(Xn,l(e))){if(33==t||34==t)return yt(34==t),u(e);if(n&&(36==t||35==t||I&&(38==t||40==t)))return bt(36==t||38==t),u(e);if(n&&65==t)return xt(),u(e);if(!tn.readOnly){if(!r&&13==t)return;if(!r&&9==t&&St(e.shiftKey))return u(e);if(n&&90==t)return U(),u(e);if(n&&(e.shiftKey&&90==t||89==t))return X(),u(e)}if(36==t&&tn.smartHome)return Tt(),u(e);if(Rn=(n?"c":"")+(e.altKey?"a":"")+t,qn.inverted&&W[Rn]===!0){var i=z(ln);i&&(En={anchor:i.start},B(ln,i.start,i.start))}n||e.altKey||(Rn=null),et(Rn)}}function F(e){tn.onKeyEvent&&tn.onKeyEvent(Xn,l(e))||(En&&(En=null,An=!0),16==e.keyCode&&(Mn=null))}function _(e){if(!tn.onKeyEvent||!tn.onKeyEvent(Xn,l(e))){if(tn.electricChars&&bn.electricChars){var t=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode);bn.electricChars.indexOf(t)>-1&&setTimeout(Zt(function(){Mt(qn.to.line,"smart")}),50)}var n=e.keyCode;13==n?(tn.readOnly||Ct(),u(e)):e.ctrlKey||e.altKey||e.metaKey||9!=n||"default"==tn.tabMode?et(Rn):u(e)}}function q(){"nocursor"!=tn.readOnly&&(wn||(tn.onFocus&&tn.onFocus(Xn),wn=!0,-1==an.className.search(/\bCodeMirror-focused\b/)&&(an.className+=" CodeMirror-focused"),On||nt()),Z(),$t())}function R(){wn&&(tn.onBlur&&tn.onBlur(Xn),wn=!1,an.className=an.className.replace(" CodeMirror-focused","")),clearInterval(yn),setTimeout(function(){wn||(Mn=null)},150)}function P(e,t,n,r,i){if(Tn){for(var o=[],a=e.line,s=t.line+1;s>a;++a)o.push(Sn[a].text);for(Tn.addChange(e.line,n.length,o);Tn.done.length>tn.undoDepth;)Tn.done.shift()}V(e,t,n,r,i)}function $(e,t){var n=e.pop();if(n){for(var r=[],i=n.start+n.added,o=n.start;i>o;++o)r.push(Sn[o].text);t.push({start:n.start,added:n.old.length,old:r});var a=vt({line:n.start+n.old.length-1,ch:S(r[r.length-1],n.old[n.old.length-1])});V({line:n.start,ch:0},{line:i-1,ch:Sn[i-1].text.length},n.old,a,a),An=!0}}function U(){$(Tn.done,Tn.undone)}function X(){$(Tn.undone,Tn.done)}function V(e,t,n,r,o){function a(e){return e<=Math.min(t.line,t.line+v)?e:e+v}for(var s=!1,l=Pn.length,u=e.line;u<=t.line;++u)if(Sn[u].text.length==l){s=!0;break}var c=t.line-e.line,f=Sn[e.line],d=Sn[t.line];if(f==d)if(1==n.length)f.replace(e.ch,t.ch,n[0]);else{d=f.split(t.ch,n[n.length-1]);var h=[e.line+1,c];f.replace(e.ch,f.text.length,n[0]);for(var u=1,p=n.length-1;p>u;++u)h.push(new i(n[u]));h.push(d),Sn.splice.apply(Sn,h)}else if(1==n.length)f.replace(e.ch,f.text.length,n[0]+d.text.slice(t.ch)),Sn.splice(e.line+1,c);else{var h=[e.line+1,c-1];f.replace(e.ch,f.text.length,n[0]),d.replace(0,t.ch,n[n.length-1]);for(var u=1,p=n.length-1;p>u;++u)h.push(new i(n[u]));Sn.splice.apply(Sn,h)}for(var u=e.line,p=u+n.length;p>u;++u){var m=Sn[u].text;m.length>l&&(Pn=m,l=m.length,_n=null,s=!1)}if(s){l=0,Pn="",_n=null;for(var u=0,p=Sn.length;p>u;++u){var m=Sn[u].text;m.length>l&&(l=m.length,Pn=m)}}for(var g=[],v=n.length-c-1,u=0,m=xn.length;m>u;++u){var y=xn[u];y<e.line?g.push(y):y>t.line&&g.push(y+v)}n.length<5?(Kt(e.line,e.line+n.length),g.push(e.line+n.length)):g.push(e.line),xn=g,Jt(100),Ln.push({from:e.line,to:t.line+1,diff:v}),jn={from:e,to:t,text:n},pt(r,o,a(qn.from.line),a(qn.to.line)),cn.style.height=Sn.length*Ht()+2*zt()+"px"}function K(e,t,n){function r(r){if(w(r,t))return r;if(!w(n,r))return i;var o=r.line+e.length-(n.line-t.line)-1,a=r.ch;return r.line==n.line&&(a+=e[e.length-1].length-(n.ch-(n.line==t.line?t.ch:0))),{line:o,ch:a}}t=vt(t),n=n?vt(n):t,e=H(e);var i;return J(e,t,n,function(e){return i=e,{from:r(qn.from),to:r(qn.to)}}),i}function G(e,t){J(H(e),qn.from,qn.to,function(e){return"end"==t?{from:e,to:e}:"start"==t?{from:qn.from,to:qn.from}:{from:qn.from,to:e}})}function J(e,t,n,r){var i=1==e.length?e[0].length+t.ch:e[e.length-1].length,o=r({line:t.line+e.length-1,ch:i});P(t,n,e,o.from,o.to)}function Y(e,t){var n=e.line,r=t.line;if(n==r)return Sn[n].text.slice(e.ch,t.ch);for(var i=[Sn[n].text.slice(e.ch)],o=n+1;r>o;++o)i.push(Sn[o].text);return i.push(Sn[r].text.slice(0,t.ch)),i.join("\n")}function Q(){return Y(qn.from,qn.to)}function Z(){Vn||kn.set(2e3,function(){Yt(),tt(),wn&&Z(),Qt()})}function et(e){function t(){Yt();var r=tt();r&&e&&("moved"==r&&null==W[e]&&(W[e]=!0),"changed"==r&&(W[e]=!1)),r||n?(Vn=!1,Z()):(n=!0,kn.set(80,t)),Qt()}var n=!1;Vn=!0,kn.set(20,t)}function tt(){function e(e,t){for(var r=0;;){var i=n.indexOf("\n",r);if(-1==i||("\r"==n.charAt(i-1)?i-1:i)>=e)return{line:t,ch:e-r};++t,r=i+1}}if(!On&&wn){var t=!1,n=ln.value,r=z(ln);if(!r)return!1;var t=In.text!=n,i=En,o=t||r.start!=In.start||r.end!=(i?In.start:In.end);if(!o&&!i)return!1;if(t&&(Mn=En=null,tn.readOnly))return An=!0,"changed";var a=e(r.start,In.from),s=e(r.end,In.from);if(i){var l=r.start==i.anchor?s:a,u=Mn?qn.to:r.start==i.anchor?a:s;(qn.inverted=w(l,u))?(a=l,s=u):(En=null,a=u,s=l)}if(a.line!=s.line||a.line!=qn.from.line||a.line!=qn.to.line||Mn||(An=!1),t){for(var c,f=0,d=n.length,h=Math.min(d,In.text.length),p=In.from,m=-1;h>f&&(c=n.charAt(f))==In.text.charAt(f);)++f,"\n"==c&&(p++,m=f);for(var g=m>-1?f-m:f,v=In.to-1,y=In.text.length;;){if(c=In.text.charAt(y),n.charAt(d)!=c){++d,++y;break}if("\n"==c&&v--,f>=y||f>=d)break;--d,--y}var m=In.text.lastIndexOf("\n",y-1),b=-1==m?y:y-m-1;P({line:p,ch:g},{line:v,ch:b},H(n.slice(f,d)),a,s),(p!=v||a.line!=p)&&(An=!0)}else pt(a,s);return In.text=n,In.start=r.start,In.end=r.end,t?"changed":o?"moved":!1}}function nt(){for(var e=[],t=Math.max(0,qn.from.line-1),n=Math.min(Sn.length,qn.to.line+2),r=t;n>r;++r)e.push(Sn[r].text);e=ln.value=e.join(O);for(var i=qn.from.ch,o=qn.to.ch,r=t;r<qn.from.line;++r)i+=O.length+Sn[r].text.length;for(var r=t;r<qn.to.line;++r)o+=O.length+Sn[r].text.length;In={text:e,from:t,to:n,start:i,end:o},B(ln,i,En?i:o)}function rt(){"nocursor"!=tn.readOnly&&ln.focus()}function it(){if(gn.getBoundingClientRect){var e=gn.getBoundingClientRect(),t=window.innerHeight||document.body.offsetHeight||document.documentElement.offsetHeight;(e.top<0||e.bottom>t)&&gn.scrollIntoView()}}function ot(){var e=_t(qn.inverted?qn.from:qn.to);return at(e.x,e.y,e.x,e.yBot)}function at(e,t,n,r){var i=Bt(),o=zt(),a=Ht();t+=o,r+=o,e+=i,n+=i;var s=un.clientHeight,l=un.scrollTop,u=!1,c=!0;l>t?(un.scrollTop=Math.max(0,t-2*a),u=!0):r>l+s&&(un.scrollTop=r+a-s,u=!0);var f=un.clientWidth,d=un.scrollLeft,h=tn.fixedGutter?hn.clientWidth:0;return d+h>e?(50>e&&(e=0),un.scrollLeft=Math.max(0,e-10-h),u=!0):n>f+d&&(un.scrollLeft=n+10-f,u=!0,n>cn.clientWidth&&(c=!1)),u&&tn.onScroll&&tn.onScroll(Xn),c}function st(){var e=Ht(),t=un.scrollTop-zt();return{from:Math.min(Sn.length,Math.max(0,Math.floor(t/e))),to:Math.min(Sn.length,Math.ceil((t+un.clientHeight)/e))}}function lt(e){if(!un.clientWidth)return void(Hn=zn=0);for(var t=e===!0?[]:[{from:Hn,to:zn,domStart:0}],n=0,r=e.length||0;r>n;++n){for(var i=e[n],o=[],a=i.diff||0,s=0,l=t.length;l>s;++s){var u=t[s];i.to<=u.from?o.push({from:u.from+a,to:u.to+a,domStart:u.domStart}):u.to<=i.from?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from,domStart:u.domStart}),i.to<u.to&&o.push({from:i.to+a,to:u.to+a,domStart:u.domStart+(i.to-u.from)}))}t=o}for(var c=st(),f=Math.min(Hn,Math.max(c.from-3,0)),d=Math.min(Sn.length,Math.max(zn,c.to+3)),h=[],p=0,m=zn-Hn,g=f,v=0,n=0,r=t.length;r>n;++n){var u=t[n];if(!(u.to<=f)){if(u.from>=d)break;(u.domStart>p||u.from>g)&&(h.push({from:g,to:u.from,domSize:u.domStart-p,domStart:p}),v+=u.from-g),g=u.to,p=u.domStart+(u.to-u.from)}}if((p!=m||g!=d)&&(v+=Math.abs(d-g),h.push({from:g,to:d,domSize:m-p,domStart:p}),d-g!=m-p&&(Dn=!0)),h.length){vn.style.display="none",v>.3*(c.to-c.from)?ut(f=Math.max(c.from-10,0),d=Math.min(c.to+7,Sn.length)):ct(h),vn.style.display="";var y=f!=Hn||d!=zn||Bn!=un.clientHeight;if(Hn=f,zn=d,dn.style.top=f*Ht()+"px",y&&(Bn=un.clientHeight,cn.style.height=Sn.length*Ht()+2*zt()+"px"),(y||Dn)&&ft(),null==_n&&(_n=Dt(Pn)),_n>un.clientWidth?(mn.style.width=_n+"px",cn.style.width="",cn.style.width=un.scrollWidth+"px"):mn.style.width=cn.style.width="",vn.childNodes.length!=zn-Hn)throw new Error("BAD PATCH! "+JSON.stringify(h)+" size="+(zn-Hn)+" nodes="+vn.childNodes.length);dt()}}function ut(e,t){for(var n=[],r={line:e,ch:0},i=w(qn.from,r)&&!w(qn.to,r),o=e;t>o;++o){var a=null,s=null;i?(a=0,qn.to.line==o&&(i=!1,s=qn.to.ch)):qn.from.line==o&&(qn.to.line==o?(a=qn.from.ch,s=qn.to.ch):(i=!0,a=qn.from.ch)),n.push(Sn[o].getHTML(a,s,!0))}vn.innerHTML=n.join("")}function ct(e){for(var t=qn.from.line,n=qn.to.line,r=0,i=A&&on.createElement("div"),o=0,a=e.length;a>o;++o){var s=e[o],l=s.to-s.from-s.domSize,u=vn.childNodes[s.domStart+s.domSize+r]||null;if(A)for(var c=Math.max(-l,s.domSize);c>0;--c)vn.removeChild(u?u.previousSibling:vn.lastChild);else if(l){for(var c=Math.max(0,l);c>0;--c)vn.insertBefore(on.createElement("pre"),u);for(var c=Math.max(0,-l);c>0;--c)vn.removeChild(u?u.previousSibling:vn.lastChild)}for(var f=vn.childNodes[s.domStart+r],d=t<s.from&&n>=s.from,c=s.from;c<s.to;++c){var h=null,p=null;d?(h=0,n==c&&(d=!1,p=qn.to.ch)):t==c&&(n==c?(h=qn.from.ch,p=qn.to.ch):(d=!0,h=qn.from.ch)),A?(i.innerHTML=Sn[c].getHTML(h,p,!0),vn.insertBefore(i.firstChild,u)):(f.innerHTML=Sn[c].getHTML(h,p,!1),f.className=Sn[c].className||"",f=f.nextSibling)}r+=l}}function ft(){if(tn.gutter||tn.lineNumbers){var e=dn.offsetHeight,t=un.clientHeight;hn.style.height=(2>e-t?t:e)+"px";for(var n=[],r=Hn;r<Math.max(zn,Hn+1);++r){var i=Sn[r].gutterMarker,o=tn.lineNumbers?r+tn.firstLineNumber:null;i&&i.text?o=i.text.replace("%N%",null!=o?o:""):null==o&&(o="\xa0"),n.push(i&&i.style?'<pre class="'+i.style+'">':"<pre>",o,"</pre>")}hn.style.display="none",pn.innerHTML=n.join("");for(var a=String(Sn.length).length,s=pn.firstChild,l=b(s),u="";l.length+u.length<a;)u+="\xa0";u&&s.insertBefore(on.createTextNode(u),s.firstChild),hn.style.display="",mn.style.marginLeft=hn.offsetWidth+"px",Dn=!1}}function dt(){var e=qn.inverted?qn.from:qn.to,t=Ht(),n=It(e.line,e.ch);sn.style.top=e.line*t-un.scrollTop+"px",sn.style.left=n-un.scrollLeft+"px",x(qn.from,qn.to)?(gn.style.top=(e.line-Hn)*t+"px",gn.style.left=n+"px",gn.style.display=""):gn.style.display="none"}function ht(e,t){var n=Mn&&vt(Mn);n&&(w(n,e)?e=n:w(t,n)&&(t=n)),pt(e,t)}function pt(e,t,n,r){if(!x(qn.from,e)||!x(qn.to,t)){if(w(t,e)){var i=t;t=e,e=i}x(e,t)?qn.inverted=!1:x(e,qn.to)?qn.inverted=!1:x(t,qn.from)&&(qn.inverted=!0),null==n&&(n=qn.from.line,r=qn.to.line),x(e,t)?x(qn.from,qn.to)||Ln.push({from:n,to:r+1}):x(qn.from,qn.to)?Ln.push({from:e.line,to:t.line+1}):(x(e,qn.from)||Ln.push(e.line<n?{from:e.line,to:Math.min(t.line,n)+1}:{from:n,to:Math.min(r,e.line)+1}),x(t,qn.to)||Ln.push(t.line<r?{from:Math.max(n,e.line),to:r+1}:{from:Math.max(e.line,r),to:t.line+1})),qn.from=e,qn.to=t,Fn=!0}}function mt(e,t,n){var r=vt({line:e,ch:t||0});(n?ht:pt)(r,r)}function gt(e){return Math.max(0,Math.min(e,Sn.length-1))}function vt(e){if(e.line<0)return{line:0,ch:0};if(e.line>=Sn.length)return{line:Sn.length-1,ch:Sn[Sn.length-1].text.length};var t=e.ch,n=Sn[e.line].text.length;return null==t||t>n?{line:e.line,ch:n}:0>t?{line:e.line,ch:0}:e}function yt(e){var t=Math.floor(un.clientHeight/Ht()),n=qn.inverted?qn.from:qn.to;mt(n.line+Math.max(t-1,1)*(e?1:-1),n.ch,!0)}function bt(e){var t=e?{line:0,ch:0}:{line:Sn.length-1,ch:Sn[Sn.length-1].text.length};ht(t,t)}function xt(){var e=Sn.length-1;pt({line:0,ch:0},{line:e,ch:Sn[e].text.length})}function wt(e){for(var t=Sn[e.line].text,n=e.ch,r=e.ch;n>0&&/\w/.test(t.charAt(n-1));)--n;for(;r<t.length&&/\w/.test(t.charAt(r));)++r;ht({line:e.line,ch:n},{line:e.line,ch:r})}function kt(e){ht({line:e,ch:0},{line:e,ch:Sn[e].text.length})}function Ct(){G("\n","end"),"flat"!=tn.enterMode&&Mt(qn.from.line,"keep"==tn.enterMode?"prev":"smart")}function St(e){function t(e){if(x(qn.from,qn.to))return Mt(qn.from.line,e);for(var t=qn.to.line-(qn.to.ch?0:1),n=qn.from.line;t>=n;++n)Mt(n,e)}switch(Mn=null,tn.tabMode){case"default":return!1;case"indent":t("smart");break;case"classic":if(x(qn.from,qn.to)){e?Mt(qn.from.line,"smart"):G("	","end");break}case"shift":t(e?"subtract":"add")}return!0}function Tt(){var e=Math.max(0,Sn[qn.from.line].text.search(/\S/));mt(qn.from.line,qn.from.ch<=e&&qn.from.ch?0:e,!0)}function Mt(e,t){if("smart"==t)if(bn.indent)var n=Vt(e);else t="prev";var r,i=Sn[e],o=i.indentation(),a=i.text.match(/^\s*/)[0];"prev"==t?r=e?Sn[e-1].indentation():0:"smart"==t?r=bn.indent(n,i.text.slice(a.length)):"add"==t?r=o+tn.indentUnit:"subtract"==t&&(r=o-tn.indentUnit),r=Math.max(0,r);var s=r-o;if(s){var l="",u=0;if(tn.indentWithTabs)for(var c=Math.floor(r/D);c;--c)u+=D,l+="	";for(;r>u;)++u,l+=" "}else{if(qn.from.line!=e&&qn.to.line!=e)return;var l=a}K(l,{line:e,ch:0},{line:e,ch:a.length})}function Et(){bn=e.getMode(tn,tn.mode);for(var t=0,n=Sn.length;n>t;++t)Sn[t].stateAfter=null;xn=[0],Jt()}function Nt(){var e=tn.gutter||tn.lineNumbers;hn.style.display=e?"":"none",e?Dn=!0:vn.parentNode.style.marginLeft=0}function At(e,t,n){function r(e,t,n,r){var e=Sn[e],o=e.addMark(t,n,r);o.line=e,i.push(o)}e=vt(e),t=vt(t);var i=[];if(e.line==t.line)r(e.line,e.ch,t.ch,n);else{r(e.line,e.ch,null,n);for(var o=e.line+1,a=t.line;a>o;++o)r(o,0,null,n);r(t.line,0,t.ch,n)}return Ln.push({from:e.line,to:t.line+1}),function(){for(var e,t,n=0;n<i.length;++n){var r=i[n],o=T(Sn,r.line);r.line.removeMark(r),o>-1&&(null==e&&(e=o),t=o)}null!=e&&Ln.push({from:e,to:t+1})}}function Lt(e,t,n){return"number"==typeof e&&(e=Sn[gt(e)]),e.gutterMarker={text:t,style:n},Dn=!0,e}function jt(e){"number"==typeof e&&(e=Sn[gt(e)]),e.gutterMarker=null,Dn=!0}function Ft(e,t){if("number"==typeof e){var n=e;e=Sn[gt(e)]}else{var n=T(Sn,e);if(-1==n)return null}return e.className!=t&&(e.className=t,Ln.push({from:n,to:n+1})),e}function Ot(e){if("number"==typeof e){var t=e;if(e=Sn[e],!e)return null}else{var t=T(Sn,e);if(-1==t)return null}var n=e.gutterMarker;return{line:t,text:e.text,markerText:n&&n.text,markerClass:n&&n.style}}function Dt(e){return fn.innerHTML="<pre><span>x</span></pre>",fn.firstChild.firstChild.firstChild.nodeValue=e,fn.firstChild.firstChild.offsetWidth||10}function It(e,t){return 0==t?0:(fn.innerHTML="<pre><span>"+Sn[e].getHTML(null,null,!1,t)+"</span></pre>",fn.firstChild.firstChild.offsetWidth)}function Wt(e,t){function n(e){return fn.innerHTML="<pre><span>"+i.getHTML(null,null,!1,e)+"</span></pre>",fn.firstChild.firstChild.offsetWidth}if(0>=t)return 0;for(var r,i=Sn[e],o=i.text,a=0,s=0,l=o.length,u=Math.min(l,Math.ceil(t/Dt("x")));;){var c=n(u);if(!(t>=c&&l>u)){r=c,l=u;break}u=Math.min(l,Math.ceil(1.2*u))}if(t>r)return l;for(u=Math.floor(.8*l),c=n(u),t>c&&(a=u,s=c);;){if(1>=l-a)return r-t>t-s?a:l;var f=Math.ceil((a+l)/2),d=n(f);d>t?(l=f,r=d):(a=f,s=d)}}function _t(e,t){var n=Ht(),r=e.line-(t?Hn:0);return{x:It(e.line,e.ch),y:r*n,yBot:(r+1)*n}}function qt(e){var t=_t(e,!0),n=y(mn);return{x:n.left+t.x,y:n.top+t.y,yBot:n.top+t.yBot}}function Ht(){var e=vn.childNodes.length;return e?vn.offsetHeight/e||1:(fn.innerHTML="<pre>x</pre>",fn.firstChild.offsetHeight||1)}function zt(){return mn.offsetTop}function Bt(){return mn.offsetLeft}function Rt(e,t){var n,r,i=y(un,!0);try{n=e.clientX,r=e.clientY}catch(e){return null}if(!t&&(n-i.left>un.clientWidth||r-i.top>un.clientHeight))return null;var o=y(mn,!0),a=Hn+Math.floor((r-o.top)/Ht());return vt({line:a,ch:Wt(gt(a),n-o.left)})}function Pt(e){function t(){var e=H(ln.value).join("\n");e!=i&&Zt(G)(e,"end"),sn.style.position="relative",ln.style.cssText=r,On=!1,nt(),Z()}var n=Rt(e);if(n&&!window.opera){(x(qn.from,qn.to)||w(n,qn.from)||!w(n,qn.to))&&Zt(mt)(n.line,n.ch);var r=ln.style.cssText;sn.style.position="absolute",ln.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",On=!0;var i=ln.value=Q();if(rt(),B(ln,0,ln.value.length),L){f(e);var o=p(window,"mouseup",function(){o(),setTimeout(t,20)},!0)}else setTimeout(t,50)}}function $t(){clearInterval(yn);var e=!0;gn.style.visibility="",yn=setInterval(function(){gn.style.visibility=(e=!e)?"":"hidden"},650)}function Ut(e){function t(e,t,n){if(e.text)for(var r,i=e.styles,o=a?0:e.text.length-1,l=a?0:i.length-2,u=a?i.length:-2;l!=u;l+=2*s){var c=i[l];if(null==i[l+1]||i[l+1]==d){for(var f=a?0:c.length-1,m=a?c.length:-1;f!=m;f+=s,o+=s)if(o>=t&&n>o&&p.test(r=c.charAt(f))){var g=Kn[r];if(">"==g.charAt(1)==a)h.push(r);else{if(h.pop()!=g.charAt(0))return{pos:o,match:!1};if(!h.length)return{pos:o,match:!0}}}}else o+=s*c.length}}var n=qn.inverted?qn.from:qn.to,r=Sn[n.line],i=n.ch-1,o=i>=0&&Kn[r.text.charAt(i)]||Kn[r.text.charAt(++i)];if(o){for(var a=(o.charAt(0),">"==o.charAt(1)),s=a?1:-1,l=r.styles,u=i+1,c=0,f=l.length;f>c;c+=2)if((u-=l[c].length)<=0){var d=l[c+1];break}for(var h=[r.text.charAt(i)],p=/[(){}[\]]/,c=n.line,f=a?Math.min(c+100,Sn.length):Math.max(-1,c-100);c!=f;c+=s){var r=Sn[c],m=c==n.line,g=t(r,m&&a?i+1:0,m&&!a?i:r.text.length);if(g)break}g||(g={pos:null,match:!1});var d=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",v=At({line:n.line,ch:i},{line:n.line,ch:i+1},d),y=null!=g.pos?At({line:c,ch:g.pos},{line:c,ch:g.pos+1},d):function(){},b=Zt(function(){v(),y()});e?setTimeout(b,800):Wn=b}}function Xt(e){for(var t,n,r=e,i=e-40;r>i;--r){if(0==r)return 0;var o=Sn[r-1];if(o.stateAfter)return r;var a=o.indentation();(null==n||t>a)&&(n=r-1,t=a)}return n}function Vt(e){var r=Xt(e),i=r&&Sn[r-1].stateAfter;i=i?t(bn,i):n(bn);for(var o=r;e>o;++o){var a=Sn[o];a.highlight(bn,i),a.stateAfter=t(bn,i)}return e<Sn.length&&!Sn[e].stateAfter&&xn.push(e),i}function Kt(e,n){for(var r=Vt(e),i=e;n>i;++i){var o=Sn[i];o.highlight(bn,r),o.stateAfter=t(bn,r)}}function Gt(){for(var e=+new Date+tn.workTime,r=xn.length;xn.length;){if(Sn[Hn].stateAfter)var i=xn.pop();else var i=Hn;if(!(i>=Sn.length)){var o=Xt(i),a=o&&Sn[o-1].stateAfter;a=a?t(bn,a):n(bn);for(var s=0,l=bn.compareStates,u=!1,c=o,f=Sn.length;f>c;++c){var d=Sn[c],h=d.stateAfter;if(+new Date>e)return xn.push(c),Jt(tn.workDelay),void(u&&Ln.push({from:i,to:c+1}));var p=d.highlight(bn,a);if(p&&(u=!0),d.stateAfter=t(bn,a),l){if(h&&l(h,a))break}else if(p===!1&&h){if(++s>3)break}else s=0}u&&Ln.push({from:i,to:c+1})}}r&&tn.onHighlightComplete&&tn.onHighlightComplete(Xn)}function Jt(e){xn.length&&Cn.set(e,Zt(Gt))}function Yt(){An=null,Ln=[],jn=Fn=!1}function Qt(){var e=!1;Fn&&(e=!ot()),Ln.length?lt(Ln):(Fn&&dt(),Dn&&ft()),e&&ot(),Fn&&(it(),$t()),wn&&!On&&(An===!0||An!==!1&&Fn)&&nt(),Fn&&tn.matchBrackets&&setTimeout(Zt(function(){Wn&&(Wn(),Wn=null),Ut(!1)}),20);var t=jn;Fn&&tn.onCursorActivity&&tn.onCursorActivity(Xn),t&&tn.onChange&&Xn&&tn.onChange(Xn,t)}function Zt(e){return function(){Gn++||Yt();try{var t=e.apply(this,arguments)}finally{--Gn||Qt()}return t}}function en(e,t,n){if(this.atOccurrence=!1,null==n&&(n="string"==typeof e&&e==e.toLowerCase()),t=t&&"object"==typeof t?vt(t):{line:0,ch:0},this.pos={from:t,to:t},"string"!=typeof e)this.matches=function(t,n){if(t)for(var r=Sn[n.line].text.slice(0,n.ch),i=r.match(e),o=0;i;){var a=r.indexOf(i[0]);o+=a,r=r.slice(a+1);var s=r.match(e);if(!s)break;i=s,o++}else var r=Sn[n.line].text.slice(n.ch),i=r.match(e),o=i&&n.ch+r.indexOf(i[0]);return i?{from:{line:n.line,ch:o},to:{line:n.line,ch:o+i[0].length},match:i}:void 0};else{n&&(e=e.toLowerCase());var r=n?function(e){return e.toLowerCase()}:function(e){return e},i=e.split("\n");this.matches=1==i.length?function(t,n){var i,o=r(Sn[n.line].text),a=e.length;return(t?n.ch>=a&&-1!=(i=o.lastIndexOf(e,n.ch-a)):-1!=(i=o.indexOf(e,n.ch)))?{from:{line:n.line,ch:i},to:{line:n.line,ch:i+a}}:void 0}:function(e,t){var n=t.line,o=e?i.length-1:0,a=i[o],s=r(Sn[n].text),l=e?s.indexOf(a)+a.length:s.lastIndexOf(a);if(!(e?l>=t.ch||l!=a.length:l<=t.ch||l!=s.length-a.length))for(;;){if(e?!n:n==Sn.length-1)return;if(s=r(Sn[n+=e?-1:1].text),a=i[e?--o:++o],!(o>0&&o<i.length-1)){var u=e?s.lastIndexOf(a):s.indexOf(a)+a.length;if(e?u!=s.length-a.length:u!=a.length)return;var c={line:t.line,ch:l},f={line:n,ch:u};return{from:e?f:c,to:e?c:f}}if(s!=a)return}}}}var tn={},nn=e.defaults;for(var rn in nn)nn.hasOwnProperty(rn)&&(tn[rn]=(o&&o.hasOwnProperty(rn)?o:nn)[rn]);var on=tn.document,an=on.createElement("div");an.className="CodeMirror",an.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+tn.theme+'"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',r.appendChild?r.appendChild(an):r(an);var sn=an.firstChild,ln=sn.firstChild,un=an.lastChild,cn=un.firstChild,fn=cn.firstChild,dn=fn.nextSibling,hn=dn.firstChild,pn=hn.firstChild,mn=hn.nextSibling.firstChild,gn=mn.firstChild,vn=gn.nextSibling;null!=tn.tabindex&&(ln.tabindex=tn.tabindex),tn.gutter||tn.lineNumbers||(hn.style.display="none");var yn,bn,xn,wn,kn=new m,Cn=new m,Sn=[new i("")],Tn=new a;Et();var Mn,En,Nn,An,Ln,jn,Fn,On,Dn,In,Wn,_n,qn={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Hn=0,zn=0,Bn=0,Rn=null,Pn="";Zt(function(){c(tn.value||""),An=!1})(),p(un,"mousedown",Zt(v)),L||p(un,"contextmenu",Pt),p(cn,"dblclick",Zt(C)),p(un,"scroll",function(){lt([]),tn.fixedGutter&&(hn.style.left=un.scrollLeft+"px"),tn.onScroll&&tn.onScroll(Xn)}),p(window,"resize",function(){lt(!0)}),p(ln,"keyup",Zt(F)),p(ln,"keydown",Zt(E)),p(ln,"keypress",Zt(_)),p(ln,"focus",q),p(ln,"blur",R),p(un,"dragenter",f),p(un,"dragover",f),p(un,"drop",Zt(M)),p(un,"paste",function(){rt(),et()}),p(ln,"paste",function(){et()}),p(ln,"cut",function(){et()});var $n;try{$n=on.activeElement==ln}catch(Un){}$n?setTimeout(q,20):R();var Xn=an.CodeMirror={getValue:g,setValue:Zt(c),getSelection:Q,replaceSelection:Zt(G),focus:function(){rt(),q(),et()},setOption:function(e,t){tn[e]=t,"lineNumbers"==e||"gutter"==e||"firstLineNumber"==e?Zt(Nt)():"mode"==e||"indentUnit"==e?Et():"readOnly"==e&&"nocursor"==t?ln.blur():"theme"==e&&(un.className=un.className.replace(/cm-s-\w+/,"cm-s-"+t))},getOption:function(e){return tn[e]},undo:Zt(U),redo:Zt(X),indentLine:Zt(function(e,t){s(e)&&Mt(e,null==t?"smart":t?"add":"subtract")}),historySize:function(){return{undo:Tn.done.length,redo:Tn.undone.length}},matchBrackets:Zt(function(){Ut(!0)}),getTokenAt:function(e){return e=vt(e),Sn[e.line].getTokenAt(bn,Vt(e.line),e.ch)},getStateAfter:function(e){return e=gt(null==e?Sn.length-1:e),Vt(e+1)},cursorCoords:function(e){return null==e&&(e=qn.inverted),qt(e?qn.from:qn.to)},charCoords:function(e){return qt(vt(e))},coordsChar:function(e){var t=y(mn),n=gt(Math.min(Sn.length-1,Hn+Math.floor((e.y-t.top)/Ht())));return vt({line:n,ch:Wt(gt(n),e.x-t.left)})},getSearchCursor:function(e,t,n){return new en(e,t,n)},markText:Zt(function(e,t,n){return Zt(At(e,t,n))}),setMarker:Zt(Lt),clearMarker:Zt(jt),setLineClass:Zt(Ft),lineInfo:Ot,addWidget:function(e,t,n,r,i){e=_t(vt(e));var o=e.yBot,a=e.x;if(t.style.position="absolute",cn.appendChild(t),"over"==r)o=e.y;else if("near"==r){var s=Math.max(un.offsetHeight,Sn.length*Ht()),l=Math.max(cn.clientWidth,mn.clientWidth)-Bt();e.yBot+t.offsetHeight>s&&e.y>t.offsetHeight&&(o=e.y-t.offsetHeight),a+t.offsetWidth>l&&(a=l-t.offsetWidth)}t.style.top=o+zt()+"px",t.style.left=t.style.right="","right"==i?(a=cn.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(cn.clientWidth-t.offsetWidth)/2),t.style.left=a+Bt()+"px"),n&&at(a,o,a+t.offsetWidth,o+t.offsetHeight)},lineCount:function(){return Sn.length},getCursor:function(e){return null==e&&(e=qn.inverted),k(e?qn.from:qn.to)},somethingSelected:function(){return!x(qn.from,qn.to)},setCursor:Zt(function(e,t){null==t&&"number"==typeof e.line?mt(e.line,e.ch):mt(e,t)}),setSelection:Zt(function(e,t){pt(vt(e),vt(t||e))}),getLine:function(e){return s(e)?Sn[e].text:void 0},setLine:Zt(function(e,t){s(e)&&K(t,{line:e,ch:0},{line:e,ch:Sn[e].text.length})}),removeLine:Zt(function(e){s(e)&&K("",{line:e,ch:0},vt({line:e+1,ch:0}))}),replaceRange:Zt(K),getRange:function(e,t){return Y(vt(e),vt(t))},operation:function(e){return Zt(e)()},refresh:function(){lt(!0)},getInputField:function(){return ln},getWrapperElement:function(){return an},getScrollerElement:function(){return un},getGutterElement:function(){return hn}},Vn=!1,Kn={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Gn=0;en.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t={line:e,ch:0};return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,r=vt(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,r))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!r.line)return t(0);r={line:r.line-1,ch:Sn[r.line-1].text.length}}else{if(r.line==Sn.length-1)return t(Sn.length);r={line:r.line+1,ch:0}}}},from:function(){return this.atOccurrence?k(this.pos.from):void 0},to:function(){return this.atOccurrence?k(this.pos.to):void 0},replace:function(e){var t=this;this.atOccurrence&&Zt(function(){t.pos.to=K(e,t.pos.from,t.pos.to)})()}};for(var Jn in N)N.propertyIsEnumerable(Jn)&&!Xn.propertyIsEnumerable(Jn)&&(Xn[Jn]=N[Jn]);return Xn}function t(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function n(e,t,n){return e.startState?e.startState(t,n):!0}function r(e){this.pos=this.start=0,this.string=e}function i(e,t){this.styles=t||[e,null],this.stateAfter=null,this.text=e,this.marked=this.gutterMarker=this.className=null}function o(e,t,n,r){for(var i=0,o=0,a=0;t>o;i+=2){var s=n[i],l=o+s.length;0==a?(l>e&&r.push(s.slice(e-o,Math.min(s.length,t-o)),n[i+1]),l>=e&&(a=1)):1==a&&(l>t?r.push(s.slice(0,t-o),n[i+1]):r.push(s,n[i+1])),o=l}}function a(){this.time=0,this.done=[],this.undone=[]}function s(){f(this)}function l(e){return e.stop||(e.stop=s),e}function u(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function c(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function f(e){u(e),c(e)}function d(e){return e.target||e.srcElement}function h(e){return e.which?e.which:1&e.button?1:2&e.button?3:4&e.button?2:void 0}function p(e,t,n,r){function i(e){n(e||window.event)}if("function"==typeof e.addEventListener){if(e.addEventListener(t,i,!1),r)return function(){e.removeEventListener(t,i,!1)}}else if(e.attachEvent("on"+t,i),r)return function(){e.detachEvent("on"+t,i)}}function m(){this.id=null}function g(e,t){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var n=0,r=0;t>n;++n)"	"==e.charAt(n)?r+=D-r%D:++r;return r}function v(e){return e.currentStyle?e.currentStyle:window.getComputedStyle(e,null)}function y(e,t){for(var n=e.ownerDocument.body,r=0,i=0,o=!1,a=e;a;a=a.offsetParent)r+=a.offsetLeft,i+=a.offsetTop,t&&"fixed"==v(a).position&&(o=!0);for(var s=t&&!o?null:n,a=e.parentNode;a!=s;a=a.parentNode)null!=a.scrollLeft&&(r-=a.scrollLeft,i-=a.scrollTop);return{left:r,top:i}}function b(e){return e.textContent||e.innerText||e.nodeValue||""}function x(e,t){return e.line==t.line&&e.ch==t.ch}function w(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function k(e){return{line:e.line,ch:e.ch}}function C(e){return q.innerText=q.textContent=e,q.innerHTML}function S(e,t){if(!t)return e?e.length:0;if(!e)return t.length;for(var n=e.length,r=t.length;n>=0&&r>=0&&e.charAt(n)==t.charAt(r);--n,--r);return r+1}function T(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;++n)if(e[n]==t)return n;return-1}e.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabMode:"classic",enterMode:"indent",electricChars:!0,onKeyEvent:null,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,smartHome:!0,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var M={},E={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),M[t]=n},e.defineMIME=function(e,t){E[e]=t},e.getMode=function(t,n){if("string"==typeof n&&E.hasOwnProperty(n)&&(n=E[n]),"string"==typeof n)var r=n,i={};else if(null!=n)var r=n.name,i=n;var o=M[r];return o?o(t,i||{}):(window.console&&console.warn("No mode "+r+" found, falling back to plain text."),e.getMode(t,"text/plain"))},e.listModes=function(){var e=[];for(var t in M)M.propertyIsEnumerable(t)&&e.push(t);return e},e.listMIMEs=function(){var e=[];for(var t in E)E.propertyIsEnumerable(t)&&e.push(t);return e};var N={};e.defineExtension=function(e,t){N[e]=t},e.fromTextArea=function(t,n){function r(){t.value=s.getValue()}function i(){r(),t.form.submit=a,t.form.submit(),t.form.submit=i}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),t.form){var o=p(t.form,"submit",r,!0);if("function"==typeof t.form.submit){var a=t.form.submit;t.form.submit=i}}t.style.display="none";var s=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return s.save=r,s.toTextArea=function(){r(),t.parentNode.removeChild(s.getWrapperElement()),t.style.display="",t.form&&(o(),"function"==typeof t.form.submit&&(t.form.submit=a))},s},e.startState=n,e.copyState=t,r.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return g(this.string,this.start)},indentation:function(){return g(this.string)},match:function(e,t,n){function r(e){return n?e.toLowerCase():e}if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&t!==!1&&(this.pos+=i[0].length),i}return r(this.string).indexOf(r(e),this.pos)==this.pos?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=r,i.prototype={replace:function(e,t,n){function r(e){return e<=Math.min(t,t+s)?e:e+s}var i=[],a=this.marked;if(o(0,e,this.styles,i),n&&i.push(n,null),o(t,this.text.length,this.styles,i),this.styles=i,this.text=this.text.slice(0,e)+n+this.text.slice(t),this.stateAfter=null,a)for(var s=n.length-(t-e),l=this.text.length,u=0;u<a.length;++u){var c=a[u],f=!1;c.from>=l?f=!0:(c.from=r(c.from),null!=c.to&&(c.to=r(c.to))),(f||c.from>=c.to)&&(a.splice(u,1),u--)}},split:function(e,t){var n=[t,null];return o(e,this.text.length,this.styles,n),new i(t+this.text.slice(e),n)
},addMark:function(e,t,n){var r=(this.marked,{from:e,to:t,style:n});return null==this.marked&&(this.marked=[]),this.marked.push(r),this.marked.sort(function(e,t){return e.from-t.from}),r},removeMark:function(e){var t=this.marked;if(t)for(var n=0;n<t.length;++n)if(t[n]==e){t.splice(n,1);break}},highlight:function(e,t){var n,i=new r(this.text),o=this.styles,a=0,s=!1,l=o[0];for(""==this.text&&e.blankLine&&e.blankLine(t);!i.eol();){var u=e.token(i,t),c=this.text.slice(i.start,i.pos);if(i.start=i.pos,a&&o[a-1]==u?o[a-2]+=c:c&&(!s&&(o[a+1]!=u||a&&o[a-2]!=n)&&(s=!0),o[a++]=c,o[a++]=u,n=l,l=o[a]),i.pos>5e3){o[a++]=this.text.slice(i.pos),o[a++]=null;break}}return o.length!=a&&(o.length=a,s=!0),a&&o[a-2]!=n&&(s=!0),s||(o.length<5&&this.text.length<10?null:!1)},getTokenAt:function(e,t,n){for(var i=this.text,o=new r(i);o.pos<n&&!o.eol();){o.start=o.pos;var a=e.token(o,t)}return{start:o.start,end:o.pos,string:o.current(),className:a||null,state:t}},indentation:function(){return g(this.text)},getHTML:function(e,t,n,r){function i(e,t){e&&(t?a.push('<span class="',t,'">',C(e),"</span>"):a.push(C(e)))}function o(){u&&(m+=1,g=m<u.length?u[m]:null)}var a=[];n&&a.push(this.className?'<pre class="'+this.className+'">':"<pre>");var s=this.styles,l=this.text,u=this.marked;e==t&&(e=null);var c=l.length;if(null!=r&&(c=Math.min(r,c)),l||null!=r)if(u||null!=e){var f,d=0,h=0,p="",m=-1,g=null;for(o();c>d;){var v=c,y="";for(null!=e&&(e>d?v=e:(null==t||t>d)&&(y=" CodeMirror-selected",null!=t&&(v=Math.min(v,t))));g&&null!=g.to&&g.to<=d;)o();for(g&&(g.from>d?v=Math.min(v,g.from):(y+=" "+g.style,null!=g.to&&(v=Math.min(v,g.to))));;){var b=d+p.length,x=f;if(y&&(x=f?f+y:y),i(b>v?p.slice(0,v-d):p,x),b>=v){p=p.slice(v-d),d=v;break}d=b,p=s[h++],f="cm-"+s[h++]}}null!=e&&null==t&&i(" ","CodeMirror-selected")}else for(var h=0,w=0;c>w;h+=2){var k=s[h],S=k.length;w+S>c&&(k=k.slice(0,c-w)),w+=S,i(k,"cm-"+s[h+1])}else i(" ",null!=e&&null==t?"CodeMirror-selected":null);return n&&a.push("</pre>"),a.join("")}},a.prototype={addChange:function(e,t,n){this.undone.length=0;var r=+new Date,i=this.done[this.done.length-1];if(r-this.time>400||!i||i.start>e+t||i.start+i.added<e-i.added+i.old.length)this.done.push({start:e,added:t,old:n});else{var o=0;if(e<i.start){for(var a=i.start-e-1;a>=0;--a)i.old.unshift(n[a]);i.added+=i.start-e,i.start=e}else i.start<e&&(o=e-i.start,t+=o);for(var a=i.added-o,s=n.length;s>a;++a)i.old.push(n[a]);i.added<t&&(i.added=t)}this.time=r}},m.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}};var A=function(){var e=document.createElement("pre");return e.innerHTML=" ",!e.innerHTML}(),L=/gecko\/\d{7}/i.test(navigator.userAgent),j=/MSIE \d/.test(navigator.userAgent),F=/Apple Computer/.test(navigator.vendor),O="\n";!function(){var e=document.createElement("textarea");e.value="foo\nbar",e.value.indexOf("\r")>-1&&(O="\r\n")}();for(var D=8,I=/Mac/.test(navigator.platform),W={},_=35;40>=_;++_)W[_]=W["c"+_]=!0;var q=document.createElement("div");e.htmlEscape=C;var H,z,B;return H=3!="\n\nb".split(/\n/).length?function(e){for(var t,n=0,r=[];(t=e.indexOf("\n",n))>-1;)r.push(e.slice(n,"\r"==e.charAt(t-1)?t-1:t)),n=t+1;return r.push(e.slice(n)),r}:function(e){return e.split(/\r?\n/)},e.splitLines=H,window.getSelection?(z=function(e){try{return{start:e.selectionStart,end:e.selectionEnd}}catch(t){return null}},B=F?function(e,t,n){t==n?e.setSelectionRange(t,n):(e.setSelectionRange(t,n-1),window.getSelection().modify("extend","forward","character"))}:function(e,t,n){try{e.setSelectionRange(t,n)}catch(r){}}):(z=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){return null}if(!t||t.parentElement()!=e)return null;var r=e.value,i=r.length,o=e.createTextRange();o.moveToBookmark(t.getBookmark());var a=e.createTextRange();if(a.collapse(!1),o.compareEndPoints("StartToEnd",a)>-1)return{start:i,end:i};for(var s=-o.moveStart("character",-i),l=r.indexOf("\r");l>-1&&s>l;l=r.indexOf("\r",l+1),s++);if(o.compareEndPoints("EndToEnd",a)>-1)return{start:s,end:i};for(var u=-o.moveEnd("character",-i),l=r.indexOf("\r");l>-1&&u>l;l=r.indexOf("\r",l+1),u++);return{start:s,end:u}},B=function(e,t,n){var r=e.createTextRange();r.collapse(!0);for(var i=r.duplicate(),o=0,a=e.value,s=a.indexOf("\n");s>-1&&t>s;s=a.indexOf("\n",s+1))++o;for(r.move("character",t-o);s>-1&&n>s;s=a.indexOf("\n",s+1))++o;i.move("character",n-o),r.setEndPoint("EndToEnd",i),r.select()}),e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null"),e}();CodeMirror.runMode=function(e,t,n){var r=CodeMirror.getMode({indentUnit:2},t),i=1==n.nodeType;if(i){var o=n,a=[];n=function(e,t){a.push("\n"==e?"<br>":t?'<span class="cm-'+CodeMirror.htmlEscape(t)+'">'+CodeMirror.htmlEscape(e)+"</span>":CodeMirror.htmlEscape(e))}}for(var s=CodeMirror.splitLines(e),l=CodeMirror.startState(r),u=0,c=s.length;c>u;++u){u&&n("\n");for(var f=new CodeMirror.StringStream(s[u]);!f.eol();){var d=r.token(f,l);n(f.current(),d),f.start=f.pos}}i&&(o.innerHTML=a.join(""))},CodeMirror.defineMode("clike",function(e,t){function n(e,t){var n=e.next();if(h[n]){var o=h[n](e,t);if(o!==!1)return o}if('"'==n||"'"==n)return t.tokenize=r(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return l=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n){if(e.eat("*"))return t.tokenize=i,i(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(m.test(n))return e.eatWhile(m),"operator";e.eatWhile(/[\w\$_]/);var a=e.current();return c.propertyIsEnumerable(a)?(f.propertyIsEnumerable(a)&&(l="newstatement"),"keyword"):d.propertyIsEnumerable(a)?"atom":"word"}function r(e){return function(t,r){for(var i,o=!1,a=!1;null!=(i=t.next());){if(i==e&&!o){a=!0;break}o=!o&&"\\"==i}return(a||!o&&!p)&&(r.tokenize=n),"string"}}function i(e,t){for(var r,i=!1;r=e.next();){if("/"==r&&i){t.tokenize=n;break}i="*"==r}return"comment"}function o(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function a(e,t,n){return e.context=new o(e.indented,t,n,null,e.context)}function s(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}var l,u=e.indentUnit,c=t.keywords||{},f=t.blockKeywords||{},d=t.atoms||{},h=t.hooks||{},p=t.multiLineStrings,m=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new o((e||0)-u,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var r=t.context;if(e.sol()&&(null==r.align&&(r.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;l=null;var i=(t.tokenize||n)(e,t);if("comment"==i||"meta"==i)return i;if(null==r.align&&(r.align=!0),";"!=l&&":"!=l||"statement"!=r.type)if("{"==l)a(t,e.column(),"}");else if("["==l)a(t,e.column(),"]");else if("("==l)a(t,e.column(),")");else if("}"==l){for(;"statement"==r.type;)r=s(t);for("}"==r.type&&(r=s(t));"statement"==r.type;)r=s(t)}else l==r.type?s(t):("}"==r.type||"top"==r.type||"statement"==r.type&&"newstatement"==l)&&a(t,e.column(),"statement");else s(t);return t.startOfLine=!1,i},indent:function(e,t){if(e.tokenize!=n&&null!=e.tokenize)return 0;var r=t&&t.charAt(0),i=e.context,o=r==i.type;return"statement"==i.type?i.indented+("{"==r?0:u):i.align?i.column+(o?0:1):i.indented+(o?0:u)},electricChars:"{}"}}),function(){function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function t(e,t){return t.startOfLine?(e.skipToEnd(),"meta"):!1}function n(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}var r="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";CodeMirror.defineMIME("text/x-csrc",{name:"clike",keywords:e(r),blockKeywords:e("case do else for if switch while struct"),atoms:e("null"),hooks:{"#":t}}),CodeMirror.defineMIME("text/x-c++src",{name:"clike",keywords:e(r+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t"),blockKeywords:e("catch class do else finally for if struct switch try while"),atoms:e("true false null"),hooks:{"#":t}}),CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:e("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:e("catch class do else finally for if switch try while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}}),CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:e("abstract as base bool break byte case catch char checked class const continue decimal default delegate do double else enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long namespace new object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:e("catch class do else finally for foreach if struct switch try while"),atoms:e("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=n,n(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),CodeMirror.defineMIME("text/x-groovy",{name:"clike",keywords:e("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package property private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}})}(),CodeMirror.defineMode("clojure",function(){function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function t(e,t,n){this.indent=e,this.type=t,this.prev=n}function n(e,n,r){e.indentStack=new t(n,r,e.indentStack)}function r(e){e.indentStack=e.indentStack.prev}function i(e,t){return"0"===e&&"x"==t.peek().toLowerCase()?(t.eat("x"),t.eatWhile(g.hex),!0):(("+"==e||"-"==e)&&(t.eat(g.sign),e=t.next()),g.digit.test(e)?(t.eat(e),t.eatWhile(g.digit),"."==t.peek()&&(t.eat("."),t.eatWhile(g.digit)),"e"==t.peek().toLowerCase()&&(t.eat(g.exponent),t.eat(g.sign),t.eatWhile(g.digit)),!0):!1)}var o="builtin",a="comment",s="string",l="tag",u="atom",c="number",f="bracket",d=2,h=e("true false nil"),p=e("defn defn- def def- defonce defmulti defmethod defmacro defstruct deftype defprotocol defrecord deftest slice defalias defhinted defmacro- defn-memo defnk defnk defonce- defunbound defunbound- defvar defvar- let letfn do case cond condp for loop recur when when-not when-let when-first if if-let if-not . .. -> ->> doto and or dosync doseq dotimes dorun doall load import unimport ns in-ns refer try catch finally throw with-open with-local-vars binding gen-class gen-and-load-class gen-and-save-class handler-case handle* *1 *2 *3 *agent* *allow-unresolved-vars* *assert *clojure-version* *command-line-args* *compile-files* *compile-path* *e *err* *file* *flush-on-newline* *in* *macro-meta* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-readably* *read-eval* *source-path* *use-context-classloader* *warn-on-reflection* + - / < <= = == > >= accessor aclone agent agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and apply areduce array-map aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array booleans bound-fn bound-fn* butlast byte byte-array bytes case cast char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement concat cond condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec decimal? declare definline defmacro defmethod defmulti defn defn- defonce defstruct delay delay? deliver deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall doc dorun doseq dosync dotimes doto double double-array doubles drop drop-last drop-while empty empty? ensure enumeration-seq eval even? every? extend extend-protocol extend-type extends? extenders false? ffirst file-seq filter find find-doc find-ns find-var first float float-array float? floats flush fn fn? fnext for force format future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator hash hash-map hash-set identical? identity if-let if-not ifn? import in-ns inc init-proxy instance? int int-array integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map? mapcat max max-key memfn memoize merge merge-with meta method-sig methods min min-key mod name namespace neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not= ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext num number? odd? or parents partial partition pcalls peek persistent! pmap pop pop! pop-thread-bindings pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-doc print-dup print-method print-namespace-doc print-simple print-special-doc print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues quot rand rand-int range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reify reduce ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure release-pending-sends rem remove remove-method remove-ns repeat repeatedly replace replicate require reset! reset-meta! resolve rest resultset-seq reverse reversible? rseq rsubseq satisfies? second select-keys send send-off seq seq? seque sequence sequential? set set-validator! set? short short-array shorts shutdown-agents slurp some sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-form-anchor special-symbol? split-at split-with str stream? string? struct struct-map subs subseq subvec supers swap! symbol symbol? sync syntax-symbol-anchor take take-last take-nth take-while test the-ns time to-array to-array-2d trampoline transient tree-seq true? type unchecked-add unchecked-dec unchecked-divide unchecked-inc unchecked-multiply unchecked-negate unchecked-remainder unchecked-subtract underive unquote unquote-splicing update-in update-proxy use val vals var-get var-set var? vary-meta vec vector vector? when when-first when-let when-not while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision xml-seq"),m=e("ns fn def defn defmethod bound-fn if if-not case condp when while when-not when-first do future comment doto locking proxy with-open with-precision reify deftype defrecord defprotocol extend extend-protocol extend-type try catchlet letfn binding loop for doseq dotimes when-let if-letdefstruct struct-map assoctesting deftesthandler-case handle dotrace deftrace"),g={digit:/\d/,digit_or_colon:/[\d:]/,hex:/[0-9a-fA-F]/,sign:/[+-]/,exponent:/[eE]/,keyword_char:/[^\s\(\[\;\)\]]/,basic:/[\w\$_\-]/,lang_keyword:/[\w*+!\-_?:\/]/};return{startState:function(){return{indentStack:null,indentation:0,mode:!1}},token:function(e,t){if(null==t.indentStack&&e.sol()&&(t.indentation=e.indentation()),e.eatSpace())return null;var v=null;switch(t.mode){case"string":for(var y,b=!1;null!=(y=e.next());){if('"'==y&&!b){t.mode=!1;break}b=!b&&"\\"==y}v=s;break;default:var x=e.next();if('"'==x)t.mode="string",v=s;else if("'"!=x||g.digit_or_colon.test(e.peek()))if(";"==x)e.skipToEnd(),v=a;else if(i(x,e))v=c;else if("("==x||"["==x){for(var w="",k=e.column();null!=(letter=e.eat(g.keyword_char));)w+=letter;w.length>0&&m.propertyIsEnumerable(w)?n(t,k+d,x):(e.eatSpace(),e.eol()||";"==e.peek()?n(t,k+1,x):n(t,k+e.current().length,x)),e.backUp(e.current().length-1),v=f}else if(")"==x||"]"==x)v=f,null!=t.indentStack&&t.indentStack.type==(")"==x?"(":"[")&&r(t);else{if(":"==x)return e.eatWhile(g.lang_keyword),l;e.eatWhile(g.basic),v=p&&p.propertyIsEnumerable(e.current())?o:h&&h.propertyIsEnumerable(e.current())?u:null}else v=u}return v},indent:function(e){return null==e.indentStack?e.indentation:e.indentStack.indent}}}),CodeMirror.defineMIME("text/x-clojure","clojure"),CodeMirror.defineMode("css",function(e){function t(e,t){return a=t,e}function n(e,n){var a=e.next();return"@"==a?(e.eatWhile(/[\w\\\-]/),t("meta",e.current())):"/"==a&&e.eat("*")?(n.tokenize=r,r(e,n)):"<"==a&&e.eat("!")?(n.tokenize=i,i(e,n)):"="!=a?"~"!=a&&"|"!=a||!e.eat("=")?'"'==a||"'"==a?(n.tokenize=o(a),n.tokenize(e,n)):"#"==a?(e.eatWhile(/[\w\\\-]/),t("atom","hash")):"!"==a?(e.match(/^\s*\w*/),t("keyword","important")):/\d/.test(a)?(e.eatWhile(/[\w.%]/),t("number","unit")):/[,.+>*\/]/.test(a)?t(null,"select-op"):/[;{}:\[\]]/.test(a)?t(null,a):(e.eatWhile(/[\w\\\-]/),t("variable","variable")):t(null,"compare"):void t(null,"compare")}function r(e,r){for(var i,o=!1;null!=(i=e.next());){if(o&&"/"==i){r.tokenize=n;break}o="*"==i}return t("comment","comment")}function i(e,r){for(var i,o=0;null!=(i=e.next());){if(o>=2&&">"==i){r.tokenize=n;break}o="-"==i?o+1:0}return t("comment","comment")}function o(e){return function(r,i){for(var o,a=!1;null!=(o=r.next())&&(o!=e||a);)a=!a&&"\\"==o;return a||(i.tokenize=n),t("string","string")}}var a,s=e.indentUnit;return{startState:function(e){return{tokenize:n,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t),r=t.stack[t.stack.length-1];return"hash"==a&&"rule"==r?n="atom":"variable"==n&&("rule"==r?n="number":r&&"@media{"!=r||(n="tag")),"rule"==r&&/^[\{\};]$/.test(a)&&t.stack.pop(),"{"==a?"@media"==r?t.stack[t.stack.length-1]="@media{":t.stack.push("{"):"}"==a?t.stack.pop():"@media"==a?t.stack.push("@media"):"{"==r&&"comment"!=a&&t.stack.push("rule"),n},indent:function(e,t){var n=e.stack.length;return/^\}/.test(t)&&(n-="rule"==e.stack[e.stack.length-1]?2:1),e.baseIndent+n*s},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("diff",function(){return{token:function(e){var t=e.next();return e.skipToEnd(),"+"==t?"plus":"-"==t?"minus":"@"==t?"rangeinfo":void 0}}}),CodeMirror.defineMIME("text/x-diff","diff"),CodeMirror.defineMode("haskell",function(){function e(e,t,n){return t(n),n(e,t)}function t(t,i){if(t.eatWhile(h))return null;var p=t.next();if(d.test(p)){if("{"==p&&t.eat("-")){var m="comment";return t.eat("#")&&(m="meta"),e(t,i,n(m,1))}return null}if("'"==p)return t.eat("\\"),t.next(),t.eat("'")?"string":"error";if('"'==p)return e(t,i,r);if(a.test(p))return t.eatWhile(c),t.eat(".")?"qualifier":"variable-2";if(o.test(p))return t.eatWhile(c),"variable";if(s.test(p)){if("0"==p){if(t.eat(/[xX]/))return t.eatWhile(l),"integer";if(t.eat(/[oO]/))return t.eatWhile(u),"number"}t.eatWhile(s);var m="number";return t.eat(".")&&(m="number",t.eatWhile(s)),t.eat(/[eE]/)&&(m="number",t.eat(/[-+]/),t.eatWhile(s)),m}if(f.test(p)){if("-"==p&&t.eat(/-/)&&(t.eatWhile(/-/),!t.eat(f)))return t.skipToEnd(),"comment";var m="variable";return":"==p&&(m="variable-2"),t.eatWhile(f),m}return"error"}function n(e,r){return 0==r?t:function(i,o){for(var a=r;!i.eol();){var s=i.next();if("{"==s&&i.eat("-"))++a;else if("-"==s&&i.eat("}")&&(--a,0==a))return o(t),e}return o(n(e,a)),e}}function r(e,n){for(;!e.eol();){var r=e.next();if('"'==r)return n(t),"string";if("\\"==r){if(e.eol()||e.eat(h))return n(i),"string";e.eat("&")||e.next()}}return n(t),"error"}function i(n,i){return n.eat("\\")?e(n,i,r):(n.next(),i(t),"error")}var o=/[a-z_]/,a=/[A-Z]/,s=/[0-9]/,l=/[0-9A-Fa-f]/,u=/[0-7]/,c=/[a-z_A-Z0-9']/,f=/[-!#$%&*+.\/<=>?@\\^|~:]/,d=/[(),;[\]`{}]/,h=/[ \t\v\f]/,p=function(){function e(e){return function(){for(var n=0;n<arguments.length;n++)t[arguments[n]]=e}}var t={};return e("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_"),e("keyword")("..",":","::","=","\\",'"',"<-","->","@","~","=>"),e("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<=","=<<","==",">",">=",">>",">>=","^","^^","||","*","**"),e("builtin")("Bool","Bounded","Char","Double","EQ","Either","Enum","Eq","False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True"),e("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap","const","cos","cosh","curry","cycle","decodeFloat","div","divMod","drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN","isNegativeZero","iterate","last","lcm","length","lex","lines","log","logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl","scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar","showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3"),t}();return{startState:function(){return{f:t}},copyState:function(e){return{f:e.f}},token:function(e,t){var n=t.f(e,function(e){t.f=e}),r=e.current();return r in p?p[r]:n}}}),CodeMirror.defineMIME("text/x-haskell","haskell"),CodeMirror.defineMode("htmlmixed",function(e){function t(e,t){var n=o.token(e,t.htmlState);return"tag"==n&&">"==e.current()&&t.htmlState.context&&(/^script$/i.test(t.htmlState.context.tagName)?(t.token=r,t.localState=a.startState(o.indent(t.htmlState,"")),t.mode="javascript"):/^style$/i.test(t.htmlState.context.tagName)&&(t.token=i,t.localState=s.startState(o.indent(t.htmlState,"")),t.mode="css")),n}function n(e,t,n){var r=e.current(),i=r.search(t);return i>-1&&e.backUp(r.length-i),n}function r(e,r){return e.match(/^<\/\s*script\s*>/i,!1)?(r.token=t,r.curState=null,r.mode="html",t(e,r)):n(e,/<\/\s*script\s*>/,a.token(e,r.localState))}function i(e,r){return e.match(/^<\/\s*style\s*>/i,!1)?(r.token=t,r.localState=null,r.mode="html",t(e,r)):n(e,/<\/\s*style\s*>/,s.token(e,r.localState))}var o=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),a=CodeMirror.getMode(e,"javascript"),s=CodeMirror.getMode(e,"css");return{startState:function(){var e=o.startState();return{token:t,localState:null,mode:"html",htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.token==i?s:a,e.localState);return{token:e.token,localState:t,mode:e.mode,htmlState:CodeMirror.copyState(o,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,n){return e.token==t||/^\s*<\//.test(n)?o.indent(e.htmlState,n):e.token==r?a.indent(e.localState,n):s.indent(e.localState,n)},electricChars:"/{}:"}}),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function r(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==t&&!r)return!1;r=!r&&"\\"==n}return r}function i(e,t,n){return I=e,W=n,t}function o(e,t){var o=e.next();if('"'==o||"'"==o)return n(e,t,a(o));if(/[\[\]{}\(\),;\:\.]/.test(o))return i(o);if("0"==o&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(o))return e.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/),i("number","number");if("/"==o)return e.eat("*")?n(e,t,s):e.eat("/")?(e.skipToEnd(),i("comment","comment")):t.reAllowed?(r(e,"/"),e.eatWhile(/[gimy]/),i("regexp","string")):(e.eatWhile(z),i("operator",null,e.current()));if("#"==o)return e.skipToEnd(),i("error","error");if(z.test(o))return e.eatWhile(z),i("operator",null,e.current());e.eatWhile(/[\w\$_]/);var l=e.current(),u=H.propertyIsEnumerable(l)&&H[l];return u?i(u.type,u.style,l):i("variable","variable",l)}function a(e){return function(t,n){return r(t,e)||(n.tokenize=o),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function u(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function c(e,t,n,r,i){var o=e.cc;for(R.state=e,R.stream=i,R.marked=null,R.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a=o.length?o.pop():q?x:b;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return R.marked?R.marked:"variable"==n&&u(e,r)?"variable-2":t}}}function f(){for(var e=arguments.length-1;e>=0;e--)R.cc.push(arguments[e])}function d(){return f.apply(null,arguments),!0}function h(e){var t=R.state;if(t.context){R.marked="def";for(var n=t.localVars;n;n=n.next)if(n.name==e)return;t.localVars={name:e,next:t.localVars}}}function p(){R.state.context||(R.state.localVars=P),R.state.context={prev:R.state.context,vars:R.state.localVars}}function m(){R.state.localVars=R.state.context.vars,R.state.context=R.state.context.prev}function g(e,t){var n=function(){var n=R.state;n.lexical=new l(n.indented,R.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function v(){var e=R.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function y(e){return function(t){return t==e?d():";"==e?f():d(arguments.callee)}}function b(e){return"var"==e?d(g("vardef"),E,y(";"),v):"keyword a"==e?d(g("form"),x,b,v):"keyword b"==e?d(g("form"),b,v):"{"==e?d(g("}"),M,v):";"==e?d():"function"==e?d(O):"for"==e?d(g("form"),y("("),g(")"),A,y(")"),v,b,v):"variable"==e?d(g("stat"),k):"switch"==e?d(g("form"),x,g("}","switch"),y("{"),M,v,v):"case"==e?d(x,y(":")):"default"==e?d(y(":")):"catch"==e?d(g("form"),p,y("("),D,y(")"),b,v,m):f(g("stat"),x,y(";"),v)}function x(e){return B.hasOwnProperty(e)?d(w):"function"==e?d(O):"keyword c"==e?d(x):"("==e?d(g(")"),x,y(")"),v,w):"operator"==e?d(x):"["==e?d(g("]"),T(x,"]"),v,w):"{"==e?d(g("}"),T(S,"}"),v,w):d()}function w(e,t){if("operator"==e&&/\+\+|--/.test(t))return d(w);if("operator"==e)return d(x);if(";"!=e)return"("==e?d(g(")"),T(x,")"),v,w):"."==e?d(C,w):"["==e?d(g("]"),x,y("]"),v,w):void 0}function k(e){return":"==e?d(v,b):f(w,y(";"),v)}function C(e){return"variable"==e?(R.marked="property",d()):void 0}function S(e){return"variable"==e&&(R.marked="property"),B.hasOwnProperty(e)?d(y(":"),x):void 0}function T(e,t){function n(r){return","==r?d(e,n):r==t?d():d(y(t))}return function(r){return r==t?d():f(e,n)}}function M(e){return"}"==e?d():f(b,M)}function E(e,t){return"variable"==e?(h(t),d(N)):d()}function N(e,t){return"="==t?d(x,N):","==e?d(E):void 0}function A(e){return"var"==e?d(E,j):";"==e?f(j):"variable"==e?d(L):f(j)}function L(e,t){return"in"==t?d(x):d(w,j)}function j(e,t){return";"==e?d(F):"in"==t?d(x):d(x,y(";"),F)}function F(e){")"!=e&&d(x)}function O(e,t){return"variable"==e?(h(t),d(O)):"("==e?d(g(")"),p,T(D,")"),v,b,m):void 0}function D(e,t){return"variable"==e?(h(t),d()):void 0}var I,W,_=e.indentUnit,q=t.json,H=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"};return{"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o}}(),z=/[+\-*&%=<>!?|]/,B={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},R={state:null,column:null,marked:null,cc:null},P={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(e){return{tokenize:o,reAllowed:!0,cc:[],lexical:new l((e||0)-_,0,"block",!1),localVars:null,context:null,indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==I?n:(t.reAllowed="operator"==I||"keyword c"==I||I.match(/^[\[{}\(,;:]$/),c(t,n,I,W,e))},indent:function(e,t){if(e.tokenize!=o)return 0;var n=t&&t.charAt(0),r=e.lexical,i=r.type,a=n==i;return"vardef"==i?r.indented+4:"form"==i&&"{"==n?r.indented:"stat"==i||"form"==i?r.indented+_:"switch"!=r.info||a?r.align?r.column+(a?0:1):r.indented+(a?0:_):r.indented+(/^(?:case|default)\b/.test(t)?_:2*_)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("lua",function(e,t){function n(e){return new RegExp("^(?:"+e.join("|")+")","i")}function r(e){return new RegExp("^(?:"+e.join("|")+")$","i")}function i(e){for(var t=0;e.eat("=");)++t;return e.eat("["),t}function o(e,t){var n=e.next();return"-"==n&&e.eat("-")?e.eat("[")?(t.cur=a(i(e),"comment"))(e,t):(e.skipToEnd(),"comment"):'"'==n||"'"==n?(t.cur=s(n))(e,t):"["==n&&/[\[=]/.test(e.peek())?(t.cur=a(i(e),"string"))(e,t):/\d/.test(n)?(e.eatWhile(/[\w.%]/),"number"):/[\w_]/.test(n)?(e.eatWhile(/[\w\\\-_.]/),"variable"):null}function a(e,t){return function(n,r){for(var i,a=null;null!=(i=n.next());)if(null==a)"]"==i&&(a=0);else if("="==i)++a;else{if("]"==i&&a==e){r.cur=o;break}a=null}return t}}function s(e){return function(t,n){for(var r,i=!1;null!=(r=t.next())&&(r!=e||i);)i=!i&&"\\"==r;return i||(n.cur=o),"string"}}var l=e.indentUnit,u=r(t.specials||[]),c=r(["_G","_VERSION","assert","collectgarbage","dofile","error","getfenv","getmetatable","ipairs","load","loadfile","loadstring","module","next","pairs","pcall","print","rawequal","rawget","rawset","require","select","setfenv","setmetatable","tonumber","tostring","type","unpack","xpcall","coroutine.create","coroutine.resume","coroutine.running","coroutine.status","coroutine.wrap","coroutine.yield","debug.debug","debug.getfenv","debug.gethook","debug.getinfo","debug.getlocal","debug.getmetatable","debug.getregistry","debug.getupvalue","debug.setfenv","debug.sethook","debug.setlocal","debug.setmetatable","debug.setupvalue","debug.traceback","close","flush","lines","read","seek","setvbuf","write","io.close","io.flush","io.input","io.lines","io.open","io.output","io.popen","io.read","io.stderr","io.stdin","io.stdout","io.tmpfile","io.type","io.write","math.abs","math.acos","math.asin","math.atan","math.atan2","math.ceil","math.cos","math.cosh","math.deg","math.exp","math.floor","math.fmod","math.frexp","math.huge","math.ldexp","math.log","math.log10","math.max","math.min","math.modf","math.pi","math.pow","math.rad","math.random","math.randomseed","math.sin","math.sinh","math.sqrt","math.tan","math.tanh","os.clock","os.date","os.difftime","os.execute","os.exit","os.getenv","os.remove","os.rename","os.setlocale","os.time","os.tmpname","package.cpath","package.loaded","package.loaders","package.loadlib","package.path","package.preload","package.seeall","string.byte","string.char","string.dump","string.find","string.format","string.gmatch","string.gsub","string.len","string.lower","string.match","string.rep","string.reverse","string.sub","string.upper","table.concat","table.insert","table.maxn","table.remove","table.sort"]),f=r(["and","break","elseif","false","nil","not","or","return","true","function","end","if","then","else","do","while","repeat","until","for","in","local"]),d=r(["function","if","repeat","for","while","\\(","{"]),h=r(["end","until","\\)","}"]),p=n(["end","until","\\)","}","else","elseif"]);
return{startState:function(e){return{basecol:e||0,indentDepth:0,cur:o}},token:function(e,t){if(e.eatSpace())return null;var n=t.cur(e,t),r=e.current();return"variable"==n&&(f.test(r)?n="keyword":c.test(r)?n="builtin":u.test(r)&&(n="variable-2")),"lua-comment"!=n&&"lua-string"!=n&&(d.test(r)?++t.indentDepth:h.test(r)&&--t.indentDepth),n},indent:function(e,t){var n=p.test(t);return e.basecol+l*(e.indentDepth-(n?1:0))}}}),CodeMirror.defineMIME("text/x-lua","lua"),CodeMirror.defineMode("pascal",function(e){function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){var n=e.next();if("#"==n&&t.startOfLine)return e.skipToEnd(),"meta";if('"'==n||"'"==n)return t.tokenize=r(n),t.tokenize(e,t);if("("==n&&e.eat("*"))return t.tokenize=i,i(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return l=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n&&e.eat("/"))return e.skipToEnd(),"comment";if(d.test(n))return e.eatWhile(d),"operator";e.eatWhile(/[\w\$_]/);var o=e.current();return u.propertyIsEnumerable(o)?(c.propertyIsEnumerable(o)&&(l="newstatement"),"keyword"):f.propertyIsEnumerable(o)?"atom":"word"}function r(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i)&&(n.tokenize=null),"string"}}function i(e,t){for(var n,r=!1;n=e.next();){if(")"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function o(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function a(e,t,n){return e.context=new o(e.indented,t,n,null,e.context)}function s(e){var t=e.context.type;return(")"==t||"]"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}var l,u=t("and array begin case const div do downto else end file for forward integer boolean char function goto if in label mod nil not of or packed procedure program record repeat set string then to type until var while with"),c=t("case do else for if switch while struct then of"),f={"null":!0},d=/[+\-*&%=<>!?|\/]/;return{startState:function(t){return{tokenize:null,context:new o((t||0)-e.indentUnit,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var r=t.context;if(e.sol()&&(null==r.align&&(r.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;l=null;var i=(t.tokenize||n)(e,t);return"comment"==i||"meta"==i?i:(null==r.align&&(r.align=!0),";"!=l&&":"!=l||"statement"!=r.type?"["==l?a(t,e.column(),"]"):"("==l?a(t,e.column(),")"):l==r.type?s(t):("top"==r.type||"statement"==r.type&&"newstatement"==l)&&a(t,e.column(),"statement"):s(t),t.startOfLine=!1,i)},electricChars:"{}"}}),CodeMirror.defineMIME("text/x-pascal","pascal"),function(){function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function t(e){return function(t,n){return t.match(e)?n.tokenize=null:t.skipToEnd(),"string"}}var n={name:"clike",keywords:e("abstract and array as break case catch cfunction class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw try use var while xor returndie echo empty exit eval include include_once isset list require require_once print unset"),blockKeywords:e("catch do else elseif for foreach if switch try while"),atoms:e("true false null TRUE FALSE NULL"),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,n){return e.match(/<</)?(e.eatWhile(/[\w\.]/),n.tokenize=t(e.current().slice(3)),n.tokenize(e,n)):!1}}};CodeMirror.defineMode("php",function(e,t){function r(e,t){if(t.curMode==i){var n=i.token(e,t.curState);return"meta"==n&&/^<\?/.test(e.current())?(t.curMode=s,t.curState=t.php,t.curClose=/^\?>/,t.mode="php"):"tag"==n&&">"==e.current()&&t.curState.context&&(/^script$/i.test(t.curState.context.tagName)?(t.curMode=o,t.curState=o.startState(i.indent(t.curState,"")),t.curClose=/^<\/\s*script\s*>/i,t.mode="javascript"):/^style$/i.test(t.curState.context.tagName)&&(t.curMode=a,t.curState=a.startState(i.indent(t.curState,"")),t.curClose=/^<\/\s*style\s*>/i,t.mode="css")),n}return e.match(t.curClose,!1)?(t.curMode=i,t.curState=t.html,t.curClose=null,t.mode="html",r(e,t)):t.curMode.token(e,t.curState)}var i=CodeMirror.getMode(e,"text/html"),o=CodeMirror.getMode(e,"text/javascript"),a=CodeMirror.getMode(e,"text/css"),s=CodeMirror.getMode(e,n);return{startState:function(){var e=i.startState();return{html:e,php:s.startState(),curMode:t.startOpen?s:i,curState:t.startOpen?s.startState():e,curClose:t.startOpen?/^\?>/:null,mode:t.startOpen?"php":"html"}},copyState:function(e){var t,n=e.html,r=CodeMirror.copyState(i,n),o=e.php,a=CodeMirror.copyState(s,o);return t=e.curState==n?r:e.curState==o?a:CodeMirror.copyState(e.curMode,e.curState),{html:r,php:a,curMode:e.curMode,curState:t,curClose:e.curClose}},token:r,indent:function(e,t){return e.curMode!=s&&/^\s*<\//.test(t)||e.curMode==s&&/^\?>/.test(t)?i.indent(e.html,t):e.curMode.indent(e.curState,t)},electricChars:"/{}:"}}),CodeMirror.defineMIME("application/x-httpd-php","php"),CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),CodeMirror.defineMIME("text/x-php",n)}(),CodeMirror.defineMode("python",function(e,t){function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function r(e,t){if(e.sol()){var n=t.scopes[0].offset;if(e.eatSpace()){var r=e.indentation();return r>n?C="indent":n>r&&(C="dedent"),null}n>0&&a(e,t)}if(e.eatSpace())return null;var o=e.peek();if("#"===o)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var s=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(s=!0),e.match(/^\d+\.\d*/)&&(s=!0),e.match(/^\.\d+/)&&(s=!0),s)return e.eat(/J/i),"number";var g=!1;if(e.match(/^0x[0-9a-f]+/i)&&(g=!0),e.match(/^0b[01]+/i)&&(g=!0),e.match(/^0o[0-7]+/i)&&(g=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),g=!0),e.match(/^0(?![\dx])/i)&&(g=!0),g)return e.eat(/L/i),"number"}return e.match(x)?(t.tokenize=i(e.current()),t.tokenize(e,t)):e.match(h)||e.match(d)?null:e.match(f)||e.match(u)||e.match(m)?"operator":e.match(c)?null:e.match(k)?"builtin":e.match(w)?"keyword":e.match(p)?"variable":(e.next(),l)}function i(e){for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,i="string";return function(o,a){for(;!o.eol();)if(o.eatWhile(/[^'"\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return i}else{if(o.match(e))return a.tokenize=r,i;o.eat(/['"]/)}if(n){if(t.singleLineStringErrors)return l;a.tokenize=r}return i}}function o(t,n,r){r=r||"py";var i=0;if("py"===r){for(var o=0;o<n.scopes.length;++o)if("py"===n.scopes[o].type){i=n.scopes[o].offset+e.indentUnit;break}}else i=t.column()+t.current().length;n.scopes.unshift({offset:i,type:r})}function a(e,t){if(1!=t.scopes.length){if("py"===t.scopes[0].type){for(var n=e.indentation(),r=-1,i=0;i<t.scopes.length;++i)if(n===t.scopes[i].offset){r=i;break}if(-1===r)return!0;for(;t.scopes[0].offset!==n;)t.scopes.shift();return!1}return t.scopes.shift(),!1}}function s(e,t){C=null;var n=t.tokenize(e,t),r=e.current();if("."===r)return n=t.tokenize(e,t),r=e.current(),"variable"===n?"variable":l;if("@"===r)return n=t.tokenize(e,t),r=e.current(),"variable"===n||"@staticmethod"===r||"@classmethod"===r?"meta":l;("pass"===r||"return"===r)&&(t.dedent+=1),(":"===r&&!t.lambda&&"py"==t.scopes[0].type||"indent"===C)&&o(e,t);var i="[({".indexOf(r);return-1!==i&&o(e,t,"])}".slice(i,i+1)),"dedent"===C&&a(e,t)?l:(i="])}".indexOf(r),-1!==i&&a(e,t)?l:(t.dedent>0&&e.eol()&&"py"==t.scopes[0].type&&(t.scopes.length>1&&t.scopes.shift(),t.dedent-=1),n))}var l="error",u=new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),c=new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),f=new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),d=new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),h=new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),p=new RegExp("^[_A-Za-z][_A-Za-z0-9]*"),m=n(["and","or","not","is","in"]),g=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield"],v=["bool","classmethod","complex","dict","enumerate","float","frozenset","int","list","object","property","reversed","set","slice","staticmethod","str","super","tuple","type"],y={types:["basestring","buffer","file","long","unicode","xrange"],keywords:["exec","print"]},b={types:["bytearray","bytes","filter","map","memoryview","open","range","zip"],keywords:["nonlocal"]};if(t.version&&3===parseInt(t.version,10)){g=g.concat(b.keywords),v=v.concat(b.types);var x=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{g=g.concat(y.keywords),v=v.concat(y.types);var x=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var w=n(g),k=n(v),C=null,S={startState:function(e){return{tokenize:r,scopes:[{offset:e||0,type:"py"}],lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=s(e,t);return t.lastToken={style:n,content:e.current()},e.eol()&&e.lambda&&(t.lambda=!1),n},indent:function(e){return e.tokenize!=r?0:e.scopes[0].offset}};return S}),CodeMirror.defineMIME("text/x-python","python"),CodeMirror.defineMode("r",function(e){function t(e){for(var t=e.split(" "),n={},r=0;r<t.length;++r)n[t[r]]=!0;return n}function n(e,t){a=null;var n=e.next();if("#"==n)return e.skipToEnd(),"comment";if("0"==n&&e.eat("x"))return e.eatWhile(/[\da-f]/i),"number";if("."==n&&e.eat(/\d/))return e.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(n))return e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==n||'"'==n)return t.tokenize=r(n),"string";if("."==n&&e.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(n)&&"_"!=n){e.eatWhile(/[\w\.]/);var i=e.current();return s.propertyIsEnumerable(i)?"atom":u.propertyIsEnumerable(i)?(c.propertyIsEnumerable(i)&&(a="block"),"keyword"):l.propertyIsEnumerable(i)?"builtin":"variable"}return"%"==n?(e.skipTo("%")&&e.next(),"variable-2"):"<"==n&&e.eat("-")?"arrow":"="==n&&t.ctx.argList?"arg-is":f.test(n)?"$"==n?"dollar":(e.eatWhile(f),"operator"):/[\(\){}\[\];]/.test(n)?(a=n,";"==n?"semi":null):null}function r(e){return function(t,r){if(t.eat("\\")){var i=t.next();return"x"==i?t.match(/^[a-f0-9]{2}/i):("u"==i||"U"==i)&&t.eat("{")&&t.skipTo("}")?t.next():"u"==i?t.match(/^[a-f0-9]{4}/i):"U"==i?t.match(/^[a-f0-9]{8}/i):/[0-7]/.test(i)&&t.match(/^[0-7]{1,2}/),"string-2"}for(var o;null!=(o=t.next());){if(o==e){r.tokenize=n;break}if("\\"==o){t.backUp(1);break}}return"string"}}function i(e,t,n){e.ctx={type:t,indent:e.indent,align:null,column:n.column(),prev:e.ctx}}function o(e){e.indent=e.ctx.indent,e.ctx=e.ctx.prev}var a,s=t("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_"),l=t("list quote bquote eval return call parse deparse"),u=t("if else repeat while function for in next break"),c=t("if else repeat while function for"),f=/[+\-*\/^<>=!&|~$:]/;return{startState:function(){return{tokenize:n,ctx:{type:"top",indent:-e.indentUnit,align:!1},indent:0,afterIdent:!1}},token:function(e,t){if(e.sol()&&(null==t.ctx.align&&(t.ctx.align=!1),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);"comment"!=n&&null==t.ctx.align&&(t.ctx.align=!0);var r=t.ctx.type;return";"!=a&&"{"!=a&&"}"!=a||"block"!=r||o(t),"{"==a?i(t,"}",e):"("==a?(i(t,")",e),t.afterIdent&&(t.ctx.argList=!0)):"["==a?i(t,"]",e):"block"==a?i(t,"block",e):a==r&&o(t),t.afterIdent="variable"==n||"keyword"==n,n},indent:function(t,r){if(t.tokenize!=n)return 0;var i=r&&r.charAt(0),o=t.ctx,a=i==o.type;return"block"==o.type?o.indent+("{"==i?0:e.indentUnit):o.align?o.column+(a?0:1):o.indent+(a?0:e.indentUnit)}}}),CodeMirror.defineMIME("text/x-rsrc","r"),CodeMirror.defineMode("ruby",function(e){function t(e){for(var t={},n=0,r=e.length;r>n;++n)t[e[n]]=!0;return t}function n(e,t,n){return n.tokenize.push(e),e(t,n)}function r(e,t){if(l=null,e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(s),"comment";if(e.eatSpace())return null;var r=e.next();if("`"==r||"'"==r||'"'==r||"/"==r)return n(o(r,"string",'"'==r),e,t);if("%"==r){var i,u=!1;e.eat("s")?i="atom":e.eat(/[WQ]/)?(i="string",u=!0):e.eat(/[wxqr]/)&&(i="string");var c=e.eat(/[^\w\s]/);return c?(d.propertyIsEnumerable(c)&&(c=d[c]),n(o(c,i,u,!0),e,t)):"operator"}if("#"==r)return e.skipToEnd(),"comment";if("<"==r&&e.eat("<")){e.eat("-"),e.eat(/[\'\"\`]/);var f=e.match(/^\w+/);return e.eat(/[\'\"\`]/),f?n(a(f[0]),e,t):null}if("0"==r)return e.eatWhile(e.eat("x")?/[\da-fA-F]/:e.eat("b")?/[01]/:/[0-7]/),"number";if(/\d/.test(r))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==r){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}return":"==r?e.eat("'")?n(o("'","atom",!1),e,t):e.eat('"')?n(o('"',"atom",!0),e,t):(e.eatWhile(/[\w\?]/),"atom"):"@"==r?(e.eat("@"),e.eatWhile(/[\w\?]/),"variable-2"):"$"==r?(e.next(),e.eatWhile(/[\w\?]/),"variable-3"):/\w/.test(r)?(e.eatWhile(/[\w\?]/),e.eat(":")?"atom":"ident"):"|"!=r||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok?/[\(\)\[\]{}\\;]/.test(r)?(l=r,null):"-"==r&&e.eat(">")?"arrow":/[=+\-\/*:\.^%<>~|]/.test(r)?(e.eatWhile(/[=+\-\/*:\.^%<>~|]/),"operator"):null:(l="|",null)}function i(){var e=1;return function(t,n){if("}"==t.peek()){if(e--,0==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)}else"{"==t.peek()&&e++;return r(t,n)}}function o(e,t,n,r){return function(o,a){for(var s,l=!1;null!=(s=o.next());){if(s==e&&(r||!l)){a.tokenize.pop();break}if(n&&"#"==s&&!l&&o.eat("{")){a.tokenize.push(i(arguments.callee));break}l=!l&&"\\"==s}return t}}function a(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function s(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var l,u=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload"]),c=t(["def","class","case","for","while","do","module","then","unless","catch","loop","proc"]),f=t(["end","until"]),d={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[r],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){e.sol()&&(t.indented=e.indentation());var n,r=t.tokenize[t.tokenize.length-1](e,t);if("ident"==r){var i=e.current();r=u.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(i)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable",c.propertyIsEnumerable(i)?n="indent":f.propertyIsEnumerable(i)?n="dedent":"if"==i&&e.column()==e.indentation()&&(n="indent")}return(l||r&&"comment"!=r)&&(t.lastTok=i||l||r),"|"==l&&(t.varList=!t.varList),"indent"==n||/[\(\[\{]/.test(l)?t.context={prev:t.context,type:l||r,indented:t.indented}:("dedent"==n||/[\)\]\}]/.test(l))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==l||"operator"==r),r},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=r)return 0;var i=n&&n.charAt(0),o=t.context,a=o.type==d[i]||"keyword"==o.type&&/^(?:end|until|else|elsif|when)\b/.test(n);return o.indented+(a?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)}}}),CodeMirror.defineMIME("text/x-ruby","ruby"),CodeMirror.defineMode("scheme",function(){function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function t(e,t,n){this.indent=e,this.type=t,this.prev=n}function n(e,n,r){e.indentStack=new t(n,r,e.indentStack)}function r(e){e.indentStack=e.indentStack.prev}function i(e,t){if(null!=/[0-9]/.exec(e)){if(t.eatWhile(/[0-9]/),t.eat(/\//),t.eatWhile(/[0-9]/),t.eol()||!/[a-zA-Z\-\_\/]/.exec(t.peek()))return!0;t.backUp(t.current().length-1)}return!1}var o="builtin",a="comment",s="string",l="atom",u="number",c="bracket",f=2,d=e("\u03bb case-lambda call/cc class define-class exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?"),h=e("define let letrec let* lambda");return{startState:function(){return{indentStack:null,indentation:0,mode:!1,sExprComment:!1}},token:function(e,t){if(null==t.indentStack&&e.sol()&&(t.indentation=e.indentation()),e.eatSpace())return null;var p=null;switch(t.mode){case"string":for(var m,g=!1;null!=(m=e.next());){if('"'==m&&!g){t.mode=!1;break}g=!g&&"\\"==m}p=s;break;case"comment":for(var m,v=!1;null!=(m=e.next());){if("#"==m&&v){t.mode=!1;break}v="|"==m}p=a;break;case"s-expr-comment":if(t.mode=!1,"("!=e.peek()&&"["!=e.peek()){e.eatWhile(/[^/s]/),p=a;break}t.sExprComment=0;default:var y=e.next();if('"'==y)t.mode="string",p=s;else if("'"==y)p=l;else if("#"==y)e.eat("|")?(t.mode="comment",p=a):e.eat(/[tf]/)?p=l:e.eat(";")&&(t.mode="s-expr-comment",p=a);else if(";"==y)e.skipToEnd(),p=a;else if("-"==y)isNaN(parseInt(e.peek()))?p=null:(e.eatWhile(/[\/0-9]/),p=u);else if(i(y,e))p=u;else if("("==y||"["==y){for(var b="",x=e.column();null!=(letter=e.eat(/[^\s\(\[\;\)\]]/));)b+=letter;b.length>0&&h.propertyIsEnumerable(b)?n(t,x+f,y):(e.eatSpace(),e.eol()||";"==e.peek()?n(t,x+1,y):n(t,x+e.current().length,y)),e.backUp(e.current().length-1),"number"==typeof t.sExprComment&&t.sExprComment++,p=c}else")"==y||"]"==y?(p=c,null!=t.indentStack&&t.indentStack.type==(")"==y?"(":"[")&&(r(t),"number"==typeof t.sExprComment&&0==--t.sExprComment&&(p=a,t.sExprComment=!1))):(e.eatWhile(/[\w\$_\-]/),p=d&&d.propertyIsEnumerable(e.current())?o:null)}return"number"==typeof t.sExprComment?a:p},indent:function(e){return null==e.indentStack?e.indentation:e.indentStack.indent}}}),CodeMirror.defineMIME("text/x-scheme","scheme"),CodeMirror.defineMode("smalltalk",function(e){function t(e,t,n){return t.tokenize=n,n(e,t)}function n(e,t){return u=e,t}function r(e,r){var a=e.next();return'"'==a?t(e,r,o(a)):"'"==a?t(e,r,i(a)):"#"==a?(e.eatWhile(/[\w\$_]/),n("string","string")):/\d/.test(a)?(e.eatWhile(/[\w\.]/),n("number","number")):/[\[\]()]/.test(a)?n(a,null):(e.eatWhile(/[\w\$_]/),c&&c.propertyIsEnumerable(e.current())?n("keyword","keyword"):n("word","variable"))}function i(e){return function(t,i){for(var o,a=!1,s=!1;null!=(o=t.next());){if(o==e&&!a){s=!0;break}a=!a&&"\\"==o}return(s||!a)&&(i.tokenize=r),n("string","string")}}function o(e){return function(t,i){for(var o,a=!1;null!=(o=t.next());)if(o==e){a=!0;break}return a&&(i.tokenize=r),n("comment","comment")}}function a(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function s(e,t,n){return e.context=new a(e.indented,t,n,null,e.context)}function l(e){return e.context=e.context.prev}var u,c={"true":1,"false":1,nil:1,self:1,"super":1,thisContext:1},f=e.indentUnit;return{startState:function(e){return{tokenize:r,context:new a((e||0)-f,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==u?r:(null==n.align&&(n.align=!0),"["==u?s(t,e.column(),"]"):"("==u?s(t,e.column(),")"):u==n.type&&l(t),t.startOfLine=!1,r)},indent:function(e,t){if(e.tokenize!=r)return 0;var n=t&&t.charAt(0),i=e.context,o=n==i.type;return i.align?i.column+(o?0:1):i.indented+(o?0:f)},electricChars:"]"}}),CodeMirror.defineMIME("text/x-stsrc",{name:"smalltalk"}),CodeMirror.defineMode("text",function(){return{startState:function(){return{indented:0}},token:function(e,t){return e.skipToEnd(),t.indented=e.column(),null},indent:function(){return 0}}}),CodeMirror.defineMIME("text/plain",{name:"text"});